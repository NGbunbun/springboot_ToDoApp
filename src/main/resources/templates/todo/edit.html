<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title th:text="${title}"></title>
		<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet"
			integrity="sha384-9ndCyUaIbzAi2FUVXJi0CjmCapSmO7SnpJef0486qhLnuZ2cdeRhO02iuK6FUUVM" crossorigin="anonymous">
		<style>
			.err { color: red; }
		</style>
	</head>
	<body class="container">
		<h1 class="display-4 mb-4" th:text="${title}"></h1>
		<p class="fs-5">
			<a class="fw-bold" th:href="@{/}">トップページへ</a>
			<a class="fw-bold" th:href="@{/logout}">ログアウトする</a>
		</p>
		
		<h2 class="fw-bold mt-5">TODO更新</h2>
		<form method="post" th:action="@{/todo/edit}" th:object="${formModel}">
			<input type="hidden" name="id" th:value="*{id}">
			
			<div class="mb-4">
				<label class="form-label" for="content">TODO</label>
				<input class="form-control" type="text" id="content" name="content" th:value="*{content}">
				<p th:if="${#fields.hasErrors('content')}" th:errors="*{content}" th:errorclass="err"></p>
			</div>
			
			<div class="mb-4">
				<label class="form-label" for="deadline">期日</label>
				<input class="form-control" type="date" id="deadline" name="deadline" th:value="*{deadline}">
				<p th:if="${#fields.hasErrors('deadline')}" th:errors="*{deadline}" th:errorclass="err"></p>
			</div>
			
			<div class="mb-4">
				<label class="form-label" for="isDone">完了にする</label>
				<input class="form-check-input" type="checkbox" id="isDone" name="done" th:checked="*{done}">
				<p th:if="${#fields.hasErrors('done')}" th:errors="*{done}" th:errorclass="err"></p>
			</div>
			
			<input type="submit" class="btn btn-primary mx-4" value="更新する">
			<span><a th:href="@{/todo/create}">戻る</a></span>
		</form>
		
	</body>
</html>